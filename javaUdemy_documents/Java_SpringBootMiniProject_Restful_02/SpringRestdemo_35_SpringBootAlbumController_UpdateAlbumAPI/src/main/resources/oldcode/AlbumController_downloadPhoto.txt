 // @GetMapping("albums/{album_id}/photos/{photo_id}/download-photo")
    // @SecurityRequirement(name = "studyeasy-demo-api")
    // public ResponseEntity<?> downloadPhoto(@PathVariable("album_id") long
    // album_id,
    // @PathVariable("photo_id") long photo_id, Authentication authentication) {
    // String email = authentication.getName();
    // Optional<Account> optionalAccount = accountService.findByEmail(email);
    // Account account = optionalAccount.get();

    // Optional<Album> optionalAlbum = albumService.findById(album_id);
    // Album album;
    // if (optionalAlbum.isPresent()) {
    // album = optionalAlbum.get();
    // if (account.getId() != album.getAccount().getId()) {
    // return ResponseEntity.status(HttpStatus.FORBIDDEN).body(null);
    // }
    // } else {
    // return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);
    // }
    // Optional<Photo> optionalPhoto = photoService.findById(photo_id);
    // if (optionalPhoto.isPresent()) {
    // Photo photo = optionalPhoto.get();
    // Resource resource = null;
    // try {
    // resource = AppUtil.getFileAsResource(album_id, PHOTOS_FOLDER_NAME,
    // photo.getFileName());
    // } catch (IOException e) {
    // return ResponseEntity.internalServerError().build();
    // }
    // if (resource == null) {
    // return new ResponseEntity<>("File not found", HttpStatus.NOT_FOUND);
    // }
    // String contentType = "application/octet-stream";
    // String headerValue = "attachment; filename=\"" + photo.getOriginalFileName()
    // + "\"";

    // return ResponseEntity.ok()
    // .contentType(MediaType.parseMediaType(contentType))
    // .header(HttpHeaders.CONTENT_DISPOSITION, headerValue)
    // .body(resource);
    // } else {
    // return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(null);

    // }
    // }
